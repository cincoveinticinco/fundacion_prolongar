<section>
  <div class="container">
    <br>
    <h3 class="mt-5">registro</h3>
    <div class="br-register mb-3"></div>
    <form action="" #form="ngForm"  class="form-register" name="form-register"  (ngSubmit)="registrarUsuario()">
      <h5 class="text-orange">Datos personales</h5>
      <div class="row">
        <div class="col">
          <label for="">Nombre o Apodo:</label>
          <input #nombre="ngModel" type="text" class="form-control" name="user_name" [ngClass]="{'ng-invalid': true}" required [(ngModel)]="model.user_name">
          <ng-container *ngIf="nombre.errors && nombre.touched && nombre.invalid">
            <span *ngIf="nombre.errors.required" class="form-error">Ingrese un nombre o apodo válido</span>
          </ng-container>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label for="">Contraseña:</label>
          <input #password="ngModel" type="password" class="form-control" name="password" required [(ngModel)]="model.password" validateEqual="confirmarContrasena" reverse="true">
          <ng-container *ngIf="password.errors && password.touched && password.invalid">
            <span *ngIf="password.errors.required" class="form-error">La contraseña es requerida</span>
          </ng-container>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label for="">Confirmar Contraseña:</label>
          <input #confirmarContrasena="ngModel" type="password" class="form-control" name="confirmarContrasena" required  [(ngModel)]="model.confirmarContrasena" validateEqual="password" >
          <ng-container *ngIf="confirmarContrasena.errors && confirmarContrasena.touched && confirmarContrasena.invalid">
            <span class="form-error">Las contraseñas no coinciden</span>
          </ng-container>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label for="">Correo Electrónico:</label>
          <input #email="ngModel" type="email" class="form-control" required pattern="([A-Z|a-z|0-9|\-!#$%&'*+_](\.){0,1})+[A-Z|a-z|0-9|\-!#$%&'*+_]\@([A-Z|a-z|0-9|\-!#$%&'*+_])+((\.){0,1}[A-Z|a-z|0-9]){1}\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?" name="email" [(ngModel)]="model.email">
          <ng-container *ngIf="email.errors && email.touched && email.invalid">
            <span class="form-error">Ingrese un correo electrónico válido</span>
          </ng-container>
        </div>
      </div>
      <br>

      <div class="row">
        <div class="col-8">
          <h5 class="text-orange">Género</h5>
        </div>
        <div class="col-4">
          <h5 class="text-orange">Edad</h5>
        </div>
      </div>
      <div class="row">
        <div class="col-8">
          <div class="row">
            <div class="col">
              <label for="" class="label-green">femenino: </label>
              <input type="radio" name="gender_id" value="1" [(ngModel)]="model.gender_id">
            </div>
            <div class="col">
              <label for="" class="label-green">Masculino: </label>
              <input type="radio" name="gender_id" value="2" [(ngModel)]="model.gender_id">
            </div>
            <div class="col">
              <label for="" class="label-green">Otro: </label>
              <input type="radio" name="gender_id" value="3" [(ngModel)]="model.gender_id">
            </div>
          </div>

        </div>

        <div class="col-4">
          <input type="number" class="form-control" name="age" required [(ngModel)]="model.age">
        </div>
      </div>
      <br>

      <div class="row">
        <h5 class="text-orange">Ubicacion Actual</h5>
        <div class="col-sm-5 col-xl-5">
          <label for="" class="label-green">Estoy en Colombia</label>
        </div>
        <div class="col-sm-3 col-xl-1 mt-2">
          <input type="radio"  (change)="checkDepartamentos($event)" value="1" required name="current_location" [(ngModel)]="model.current_location">
        </div>
        <div class="col-sm-9 col-xl-5">
          <label for="" class="label-green">Estoy fuera de Colombia</label>
        </div>
        <div class="col-sm-3 col-xl-1 mt-2">
          <input type="radio" name="current_location" value="0" required [(ngModel)]="model.current_location">
        </div>
      </div>

      <ng-container *ngIf="checkedDepart==true; else elseTemplate">
        <div class="row">
          <div class="col">
            <label for="" class="label-green">Departamento: </label>
            <select class="form-control" id="exampleFormControlSelect1" name="departamento" (change)="ciudad($event)">
              <option *ngFor="let item of departamentos; let i=index" value="{{item.id}}">{{item.department}}</option>
            </select>
          </div>
          <div class="col">
            <label for="" class="label-green">Ciudad: </label>
            <select class="form-control" id="exampleFormControlSelect1" name="city_id" [(ngModel)]="model.city_id">
              <option *ngFor="let item of municipios; let i=index" value="{{item.id}}">{{item.city}}</option>
            </select>
          </div>
        </div>
      </ng-container>
      <ng-template #elseTemplate>

      </ng-template>

      <div class="row">
        <br>
        <div class="col-sm-9 col-xl-5 mt-3">
          <h5 for="" class="text-orange"><a target="_blank" href="https://fundacionprolongar.org/politica-de-privacidad/">Acepto terminos y condiciones</a></h5>
        </div>
        <div class="col-sm-3 col-xl-1 mt-3">
          <input type="checkbox" name="">
        </div>
        <div class="col-sm-9 col-xl-5 mt-3">
          <h5 for="" class="text-orange">Deseo recibir comunicacion </h5>
        </div>
        <div class="col-sm-3 col-xl-1 mt-3">
          <input type="checkbox" name="receive_info" [(ngModel)]="model.receive_info">
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <button class="btn float-end mt-4 btn-enviar" [disabled]="(form.invalid ? true : false)">Enviar</button>
      </div>
      <br><br>
    </form>
  </div>
</section>
